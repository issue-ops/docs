---
title: Validate
description: Are they asking for the right thing?
status: Alpha
---

export { Layout as default } from '@issue-ops/gatsby-theme-doctocat-typescript'

Once an issue has been parsed, it can be validated against any rules that you
require. Validation should be done early and often! After a request is initially
validated, there is nothing stopping a user from editing the issue and
submitting it with invalid inputs. Consider re-running validation logic any time
the following events happen:

- The issue is created
- The issue body is edited
- The issue is closed and reopened
- The request is submitted for provisioning/creation

When used in public repositories, issue form templates do enforce some
validation rules such as required fields, selection options, and more. However,
you may have additional validation rules that apply to your specific use case.
For example, if you are creating an IssueOps workflow for users to request
membership to GitHub teams, the issue form template is not able to validate if a
value provided by a user is in fact a team in your GitHub organization.

The [`issue-ops/validator`](https://github.com/issue-ops/validator) action takes
the parsed output of the issue body and validates it against the issue form
template and any custom rules you define.

### Basic validation

The most basic validation compares each input field to the rules specified in
your issue form template and, if any are violated, comments with an error
message.

```yaml
- name: Validate Issue
  id: validate
  uses: issue-ops/validator@vX.X.X
  with:
    issue-form-template: example-request.yml
    parsed-issue-body: ${{ steps.parse.outputs.json }}
```

### Custom validation

For each form field, you can specify custom validation logic to run. To do so,
add the following files to your IssueOps repository.

#### `.github/validator/config.yml`

This file defines the mapping of validator scripts to form fields. For example,
if your issue form has an input field named `Team Name`, you can specify a
validator script to run against that field.

```yaml
validators:
  - field: team_name
    script: check_team_name
```

#### `.github/validator/<script-name>.js`

This is the validation script that will be run on the field. The script must
specify a default export of a function with the following behavior:

- Accept inputs of the following types:
  - `string` (Input and Textarea)
  - `string[]` (Dropdown)
  - `{ label: string; required: boolean }` (Checkboxes)
- Return `'success'` for successful validation
- Return an error message (`string`) for unsuccessful validation

See
[this example](https://github.com/issue-ops/validator/blob/main/.github/validator/team.js)
for reference.

<Note>
  If you want to run custom validators that access GitHub APIs, you will need to
  provide a value for the `github-token` input. This is another good scenario
  for GitHub App authentication!
</Note>
